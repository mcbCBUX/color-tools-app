

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Color Tab App</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
<style>
  body { font-family: Arial, sans-serif; margin: 20px; background: #f9f9f9; }
  .nav button { margin: 5px; padding: 10px 15px; cursor: pointer; }
  .tab { display: none; padding: 20px; background: white; border: 1px solid #ccc; border-radius: 8px; }
  .tab.active { display: block; }
  .swatch { width: 100px; height: 100px; margin: 10px; display: inline-block; border: 1px solid #333; }
  .input-container { margin-bottom: 15px; }
  .help-text { font-size: 0.9em; color: #666; }
</style>

</head>
  <script>
  function showTab(tabId) {
    document.querySelectorAll('.tab').forEach(tab => {
      tab.classList.remove('active');
    });

    const target = document.getElementById(tabId);
    if (target) {
      target.classList.add('active');
    }
  }
</script>

<body>

  <h1>ðŸŽ¨ Color Tools App</h1>

<div class="nav">
  <button onclick="showTab('swatch')">Color Swatches</button>
  <button onclick="showTab('converter')">RGBA â†” HEX Converter</button>
  <button onclick="showTab('palette')">Palette Viewer</button>
  <button onclick="showTab('gallery')">Gradient Gallery</button>
</div>



<!-- Tab 1: Swatch -->
<div id="swatch" class="tab active">
  <h2>Color Swatches</h2>
  <div class="input-container">
    <label for="colorInput">Enter a list of colors (HEX or RGBA):</label>
    <input
      type="text"
      id="colorInput"
      placeholder="e.g. #fdab33, (0.2, 0.6, 0.8, 0.7), #33fdab, (0.8, 0.2, 0.5, 1.0)">
    <button onclick="generateSwatches()">Generate Swatches</button>
  </div>
  <p class="help-text">
    Examples of valid formats:<br>
    Single: <code>#fdab33</code> or <code>(0.2, 0.6, 0.8, 0.7)</code><br>
    Multiple: <code>#fdab33, (0.2, 0.6, 0.8, 0.7), #33fdab, (0.8, 0.2, 0.5, 1.0)</code>
  </p>
  <div id="swatchContainer" style="display: flex; flex-wrap: wrap;"></div>
</div>

<script>
  function generateSwatches() {
    const rawInput = document.getElementById('colorInput').value;
    const swatchContainer = document.getElementById('swatchContainer');
    swatchContainer.innerHTML = '';

    try {
      const colors = [];
      const regex = /#(?:[0-9a-fA-F]{3}){1,2}|rgba?\s*\(([^)]+)\)|\(([^)]+)\)/g;

      const matches = rawInput.match(regex);
      matches.forEach(match => {
        match = match.trim();
        if (match.startsWith('#')) {
          colors.push(match);
        } else {
          const inner = match.replace(/[()]/g, '');
          const rgbaValues = inner.split(',').map(v => parseFloat(v.trim()));
          if (rgbaValues.length === 4 && rgbaValues.every(v => !isNaN(v))) {
            colors.push(rgbaValues);
          }
        }
      });

      if (!colors.length) throw new Error("No valid colors found.");

      colors.forEach(color => {
        const swatch = document.createElement('div');
        swatch.className = 'swatch';
        swatch.style.backgroundColor = Array.isArray(color)
          ? `rgba(${color.join(',')})`
          : color;

        const label = document.createElement('div');
        label.style.textAlign = 'center';
        label.style.marginTop = '5px';
        label.style.fontSize = '0.9em';
        label.innerText = Array.isArray(color)
          ? `rgba(${color.join(',')})`
          : color;

        const wrapper = document.createElement('div');
        wrapper.style.margin = '10px';
        wrapper.style.textAlign = 'center';
        wrapper.appendChild(swatch);
        wrapper.appendChild(label);

        swatchContainer.appendChild(wrapper);
      });

    } catch (error) {
      swatchContainer.innerHTML = '<p style="color: red;">Could not parse your input. Try using HEX codes and RGBA in parentheses.</p>';
    }
  }
</script>


<!-- Tab 2: RGBA â†” HTML Converter -->
<div id="converter" class="tab">
  <h2>RGBA â†” HTML Converter</h2>
  <div class="input-container">
    <label for="colorConverterInput">Enter HEX or RGBA values:</label>
    <input
      type="text"
      id="colorConverterInput"
      placeholder="e.g. rgba(0, 153, 102, 1), #ff6432, rgba(0, 0, 255, 0.8)">
    <button onclick="convertBidirectional()">Convert & Visualize</button>
  </div>
 <p class="help-text">
    Examples of valid formats:<br>
    Single: <code>#fdab33</code> or <code>(0.2, 0.6, 0.8, 0.7)</code><br>
    Multiple: <code>#fdab33, (0.2, 0.6, 0.8, 0.7), #33fdab, (0.8, 0.2, 0.5, 1.0)</code>
  </p>
  <div id="convertedSwatches" style="display: flex; flex-wrap: wrap;"></div>
</div>

<script>
  function convertBidirectional() {
    const inputStr = document.getElementById("colorConverterInput").value;
    const swatchArea = document.getElementById("convertedSwatches");
    swatchArea.innerHTML = "";

    // Match HEX codes or anything in parentheses
    const regex = /#(?:[0-9a-fA-F]{3}){1,2}|\(([^)]+)\)/g;
    const matches = inputStr.match(regex);

    if (!matches) {
      swatchArea.innerHTML = '<p style="color: red;">No valid input found. Try using #rrggbb or (r, g, b, a)</p>';
      return;
    }

    matches.forEach(match => {
      let hex = null;
      let rgba = null;
      let inputDisplay = match;

      if (match.startsWith('#')) {
        const hexRaw = match.slice(1);
        if (hexRaw.length === 6) {
          const r = parseInt(hexRaw.slice(0, 2), 16);
          const g = parseInt(hexRaw.slice(2, 4), 16);
          const b = parseInt(hexRaw.slice(4, 6), 16);
          hex = match.toLowerCase();
          rgba = `rgba(${r}, ${g}, ${b}, 1)`;
        }
      } else {
        const parts = match.replace(/[()]/g, '').split(',').map(n => parseFloat(n.trim()));
        if (parts.length === 4 && parts.every(n => !isNaN(n))) {
          const [r, g, b, a] = parts;
          hex = `#${[r, g, b].map(c => Math.round(c * 255).toString(16).padStart(2, '0')).join('')}`;
          rgba = `rgba(${r}, ${g}, ${b}, ${a})`;
        }
      }

      if (hex && rgba) {
        const wrapper = document.createElement("div");
        wrapper.style.margin = "10px";
        wrapper.style.textAlign = "center";

        const swatch = document.createElement("div");
        swatch.className = "swatch";
        swatch.style.backgroundColor = rgba;
        wrapper.appendChild(swatch);

        const label = document.createElement("div");
        label.style.fontSize = "0.9em";
        label.style.marginTop = "5px";
        label.innerText = `${inputDisplay} â†’ ${hex} / ${rgba}`;
        wrapper.appendChild(label);

        swatchArea.appendChild(wrapper);
      }
    });
  }
</script>


<!-- Tab 3: Palette Generation -->
<div id="palette" class="tab">
  <h2>Palette Generation of N Colours</h2>

  <div class="input-container">
    <label for="colorCount">Number of colors:</label>
    <input type="number" id="colorCount" min="1" max="20" value="10" placeholder="e.g. 10">

 <label for="colormapChoice">Choose a colormap:</label>
<select id="colormapChoice" onchange="updateGradientPreview()">
  <optgroup label="Chroma Native">
    <option value="cividis">Cividis</option>
    <option value="magma">Magma</option>
    <option value="plasma">Plasma</option>
    <option value="viridis">Viridis</option>
  </optgroup>
  <optgroup label="Custom Presets">
    <option value="BuGn">BuGn</option>
    <option value="Spectral">Spectral</option>
    <option value="YlGnBu">YlGnBu</option>
  </optgroup>
</select>


    <button onclick="generatePalette()">Generate Palette</button>
  </div>

  <p class="help-text">
    Generates a palette based on selected colormap and color count. HEX codes and rounded RGB values are shown below.
  </p>

  <div id="paletteSwatches" style="display: flex; flex-wrap: wrap;"></div>

  <h3>Colormap Gradient Previews</h3>
  <div id="colormapPreviews" style="margin-top: 20px;"></div>
  
</div>

<script>
  function generatePalette() {
    const count = parseInt(document.getElementById("colorCount").value, 10);
    const mapName = document.getElementById("colormapChoice").value;
    const swatchArea = document.getElementById("paletteSwatches");
    swatchArea.innerHTML = "";

    // Define supported named colormaps or fallback to custom presets
    let scale;

    try {
      // Try direct chroma named scale
      scale = chroma.scale(mapName).colors(count);
    } catch {
      // If not supported, define custom palettes here
      const customMaps = {
        YlGnBu: ['#ffffd9', '#edf8b1', '#c7e9b4', '#7fcdbb', '#41b6c4', '#1d91c0', '#225ea8', '#0c2c84'],
        BuGn: ['#f7fcfd', '#e0f3db', '#ccebc5', '#a8ddb5', '#7bccc4', '#4eb3d3', '#2b8cbe', '#08589e'],
        Spectral: ['#9e0142', '#d53e4f', '#f46d43', '#fdae61', '#fee08b', '#e6f598', '#abdda4', '#66c2a5', '#3288bd', '#5e4fa2']
      };

      if (customMaps[mapName]) {
        scale = chroma.scale(customMaps[mapName]).colors(count);
      } else {
        throw new Error("Unsupported colormap");
      }
    }

    scale.forEach(hex => {
      const rgb = chroma(hex).rgba();
      const roundedRGB = `rgba(${rgb.map((v, i) => i < 3 ? Math.round(v) : v.toFixed(2)).join(', ')})`;

      const wrapper = document.createElement("div");
      wrapper.style.margin = "10px";
      wrapper.style.textAlign = "center";

      const swatch = document.createElement("div");
      swatch.className = "swatch";
      swatch.style.backgroundColor = hex;
      wrapper.appendChild(swatch);

      const label = document.createElement("div");
      label.style.fontSize = "0.9em";
      label.style.marginTop = "5px";
      label.innerText = `${hex} / ${roundedRGB}`;
      wrapper.appendChild(label);

      swatchArea.appendChild(wrapper);
    });
  }
</script>


  
<!-- Tab 4: Static Gradient Gallery -->
<div id="gallery" class="tab">
  <h2>Gradient Gallery</h2>
  <p class="help-text">
    This gallery shows color gradients for various colormaps. Each bar displays 256 colors interpolated across its range.
  </p>
  <div id="gradientGallery" style="margin-top: 20px;"></div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", renderGradientGallery);

  function renderGradientGallery() {
    const container = document.getElementById("gradientGallery");
    container.innerHTML = "";

    const colormaps = {
      viridis: null,
      plasma: null,
      magma: null,
      cividis: null,
      YlGnBu: ['#ffffd9', '#edf8b1', '#c7e9b4', '#7fcdbb', '#41b6c4', '#1d91c0', '#225ea8', '#0c2c84'],
      BuGn: ['#f7fcfd', '#e0f3db', '#ccebc5', '#a8ddb5', '#7bccc4', '#4eb3d3', '#2b8cbe', '#08589e'],
      Spectral: ['#9e0142', '#d53e4f', '#f46d43', '#fdae61', '#fee08b', '#e6f598', '#abdda4', '#66c2a5', '#3288bd', '#5e4fa2']
    };

    Object.entries(colormaps).forEach(([name, customScale]) => {
      const scale = customScale
        ? chroma.scale(customScale).mode('lab').colors(256)
        : chroma.scale(name).colors(256);

      const label = document.createElement("div");
      label.innerText = name;
      label.style.marginBottom = "5px";
      label.style.fontWeight = "bold";

      const bar = document.createElement("div");
      bar.style.display = "flex";
      bar.style.marginBottom = "15px";
      bar.style.border = "1px solid #ccc";
      bar.style.height = "30px";

      scale.forEach(hex => {
        const segment = document.createElement("div");
        segment.style.width = "0.4%";
        segment.style.backgroundColor = hex;
        bar.appendChild(segment);
      });

      container.appendChild(label);
      container.appendChild(bar);
    });
  }
</script>



</body>
</html>

